import 'package:json_api_document/json_api_document.dart';
import 'package:test/test.dart';

void main() {
  const naming = const StrictNaming();
  final expectNotToBeAllowed =
      (String name) => expect(naming.allows(name), equals(false));
  final expectToBeAllowed =
      (String name) => expect(naming.allows(name), equals(true));

  test('Empty strings are not allowed', () {
    expect(naming.allows(''), equals(false));
  });
  test('Chars with codes 0x0080 and above not allowed', () {
    expect(naming.allows('жажа'), equals(false));
  });
  test('"-" is not allowed as first and last char', () {
    ['-', '-abc', 'abc-'].forEach(expectNotToBeAllowed);
  });
  test('"_" is not allowed as first and last char', () {
    ['_', '_abc', 'abc_'].forEach(expectNotToBeAllowed);
  });
  test('Space is not allowed anywhere', () {
    ['a z', ' z', 'a ', ' '].forEach(expectNotToBeAllowed);
  });
  test('Alphanumeric chars are allowed anywhere', () {
    ['a', 'fooBar42', '123'].forEach(expectToBeAllowed);
  });
  test('"-" and "_" are allowed inside', () {
    ['o-o', 'O_O', 'o-_-o'].forEach(expectToBeAllowed);
  });
}
